## ðŸ›« å›½é™…åŒ– API

éšç€æˆ‘ä»¬çš„ç¤¾åŒºè¶Šæ¥è¶Šå¤§ï¼Œè¯­è¨€æˆä¸ºäº†å„ä¸ªå›½å®¶çš„ç”¨æˆ·å’ŒçŽ©å®¶ä¹‹é—´äº¤æµçš„éšœç¢ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æä¾›äº†`I18nAPI`å¹¶é¼“åŠ±æ’ä»¶åˆ›ä½œè€…ä½¿ç”¨å›½é™…åŒ–æŽ¥å£ã€‚

## åŠ è½½ç¿»è¯‘æ•°æ®

`i18n.load(path, defaultLocaleName, defaultLangData)`

- å‚æ•°:
  - path: `String`  
    ç¿»è¯‘æ•°æ®æ‰€åœ¨çš„æ–‡ä»¶[^1]/ç›®å½•[^2]
  - defaultLocaleName: `String`  
    é»˜è®¤çš„è¯­è¨€åç§°ï¼Œå½¢å¦‚`zh_CN`æˆ–`en`ï¼ˆå¦‚æžœæ²¡æœ‰æä¾›ç›®æ ‡è¯­è¨€ç»™`i18n.tr`æˆ–`i18n.get`çš„ç¿»è¯‘ï¼Œè¿™ä¸ªå‚æ•°å°†è¢«ä½¿ç”¨ï¼‰  
    è‹¥ä¼ å…¥ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™é»˜è®¤è·Ÿéšç³»ç»Ÿè¯­è¨€
  - defaultLangData: `Object`  
    è¯¥å‚æ•°å°†ç”¨äºŽè¡¥å…¨æˆ–åˆ›å»ºç¿»è¯‘æ–‡ä»¶ï¼Œå½¢å¦‚
    ```js
    {
      localeName: {
        "src": "translation"
      },
      zh_CN: {
        "a.b.c.d.114514": "1919810",
        "src": "æº"
      }
    }
    ```
- æŠ›å‡º:
  - å‚æ•°æ— æ•ˆ

[^1] : æ–‡ä»¶å¿…é¡»ä¸ºJSONæ ¼å¼ï¼Œä¸”æ–‡ä»¶å†…å®¹åº”ç±»ä¼¼ï¼š
  ```json
  {
    "localeName": {
      "src": "translation"
    },
    "zh_CN": {
      "a.b.c.d.114514": "1919810",
      "src": "æº"
    }
  }
  ```

[^2] : è¯·åœ¨è·¯å¾„çš„æœ«å°¾åŠ ä¸Šè·¯å¾„åˆ†éš”ç¬¦(`/`æˆ–`\\`)ã€‚  
  ç›®å½•å†…å®¹åº”ç±»ä¼¼ï¼š
  ```
        â”Œ LOCALE_name.json
  [Dir] â”¼ en.json
        â”” zh_CN.json
  ```
  å…¶ä¸­çš„æ¯ä¸ªæ–‡ä»¶å†…å®¹éƒ½åº”ç±»ä¼¼ï¼š
  ```json
  {
    "a.c.b.d": "translation",
    "use": {
      "nested": {
        "src": "translation"
      },
      "114514": {
        "1919810": "heng heng aaaaaaaaaaaaaaaaaaaaaaaaa",
        "a": "æ­¤å¤„çš„IDä¸ºuse.nested.114514.a",
        "b": "The ID of this will be use.nested.114514.b"
      }
    }
  }
  ```

## èŽ·å–æ–‡æœ¬çš„æŒ‡å®šè¯­è¨€ç¿»è¯‘

`i18n.get(key[,localeName])`

- å‚æ•°:
  - key: `String`  
    æ–‡æœ¬æˆ–ID
  - localeName: `String`(å¯é€‰)  
    ç›®æ ‡è¯­è¨€ï¼Œé»˜è®¤ä¸º`i18n.load`æ—¶ä¼ å…¥çš„`defaultLocaleName`
- è¿”å›žå€¼: `String` ç¿»è¯‘å†…å®¹ï¼ˆè‹¥ç»è¿‡å¤šæ¬¡å›žè½ä»æœªæ‰¾åˆ°ç¿»è¯‘ï¼Œåˆ™è¿”å›ž`key`ï¼‰
- æŠ›å‡º:
  - å‚æ•°æ— æ•ˆ

## ä½¿ç”¨æŒ‡å®šè¯­è¨€ç¿»è¯‘æ–‡æœ¬å¹¶æ ¼å¼åŒ–

`i18n.trl(localeName, key, ...)`

- å‚æ•°:
  - localeName: `String`  
    ç›®æ ‡è¯­è¨€
  - key: `String`  
    æ–‡æœ¬æˆ–ID
  - ...: `Any`  
    æ ¼å¼åŒ–å‚æ•°
- è¿”å›žå€¼: `String` ç¿»è¯‘å¹¶æ ¼å¼åŒ–åŽçš„æ–‡æœ¬
- æ³¨æ„: æ ¼å¼åŒ–åº”éµå¾ª[è¯­æ³•](https://fmt.dev/latest/syntax.html)
- æŠ›å‡º:
  - å‚æ•°æ— æ•ˆ

## ä½¿ç”¨é»˜è®¤è¯­è¨€ç¿»è¯‘æ–‡æœ¬å¹¶æ ¼å¼åŒ–

`i18n.tr(key, ...)`

- å‚æ•°:
  - key: `String`  
    æ–‡æœ¬æˆ–ID
  - ...: `Any`  
    æ ¼å¼åŒ–å‚æ•°
- è¿”å›žå€¼: `String` ç¿»è¯‘å¹¶æ ¼å¼åŒ–åŽçš„æ–‡æœ¬
- æ³¨æ„: æ ¼å¼åŒ–åº”éµå¾ª[è¯­æ³•](https://fmt.dev/latest/syntax.html)
- æŠ›å‡º:
  - å‚æ•°æ— æ•ˆ

## å®Œæ•´æ ·ä¾‹

```js
i18n.load("plugins/feature-llse-i18n-test/language.json", "" /* "zh_CN" */, {
  "zh_CN": {
    "{1}, {0}, named_arg(float.2): {named_arg:.2f}": "æµ‹è¯•ï¼š {1}, {0}, named_arg(float.2): {named_arg:.2f}",
    "{} {} {a} {b}": "æµ‹è¯•2ï¼š {} {} {a} {b}",
    "welcome": "Hi, {}! æ¬¢è¿Žæ¥åˆ°æœåŠ¡å™¨!"
  },
  "en": {
    "welcome": "Hi, {}! Welcome to the SERVER!"
  }
});

LLSE_Player.prototype._sendText = LLSE_PLayer.prototype.sendText;
LLSE_Player.prototype.sendText = function() {
  let args = Array.from(arguments);
  let text = args.shift();
  pl._sendText(i18n.trl(this.langCode, text, ...args));
}

logger.info(tr("{1}, {0}, named_arg(float.2): {named_arg:.2f}", "string0", 1, {
  named_arg: 114.51419 // Named arguments should be object
}));
// Out: æµ‹è¯•ï¼š 1, string0, named_arg(float.2): 114.51

logger.info(tr("{} {} {a} {b}", "arg0", "arg1", {
  a: "114514",
  b: "1919810"
}));

mc.listen("onJoin", (pl) => {
  pl.sendText("welcome", pl.realName);
});
```